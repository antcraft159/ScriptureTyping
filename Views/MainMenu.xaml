<UserControl x:Class="ScriptureTyping.Views.MainMenu"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="{StaticResource Brush.Bg}">

    <Grid Margin="0">

        <!-- 슬라이드 패널 -->
        <Border x:Name="SlidePanel"
                Width="260"
                HorizontalAlignment="Left"
                VerticalAlignment="Stretch"
                Background="{StaticResource Brush.Surface}"
                BorderBrush="{StaticResource Brush.Border}"
                BorderThickness="1"
                CornerRadius="10"
                Margin="24"
                Panel.ZIndex="10">

            <Border.RenderTransform>
                <!-- 기본: 260 중 60만 보이게 (-220) -->
                <TranslateTransform X="-220"/>
            </Border.RenderTransform>

            <!-- 마우스 올리면 열리고, 나가면 닫힘 -->
            <Border.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation
                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                To="0"
                                Duration="0:0:0.18">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>

                <EventTrigger RoutedEvent="MouseLeave">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation
                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                To="-220"
                                Duration="0:0:0.18">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseIn"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Border.Triggers>

            <!-- 패널 내부 레이아웃: (내용영역) + (손잡이 60px) -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="60"/>
                </Grid.ColumnDefinitions>

                <!-- 실제 메뉴 영역 -->
                <Grid Grid.Column="0" Margin="18">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="16"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="메인 메뉴"
                               Foreground="{StaticResource Brush.Text}"
                               FontSize="18"
                               FontWeight="SemiBold"/>

                    <UniformGrid Grid.Row="2" Rows="5" Columns="1">
                        <Button Content="학습 시작"
                                MinHeight="44"
                                Margin="0,0,0,10"
                                Command="{Binding StartLearningCommand}"/>

                        <Button Content="게임"
                                MinHeight="44"
                                Margin="0,0,0,10"
                                Command="{Binding GamesCommand}"/>

                        <Button Content="기록/통계"
                                MinHeight="44"
                                Margin="0,0,0,10"
                                Command="{Binding RecordsCommand}"/>

                        <Button Content="설정"
                                MinHeight="44"
                                Margin="0,0,0,10"
                                Command="{Binding SettingsCommand}"/>

                        <Button Content="종료"
                                MinHeight="44"
                                Command="{Binding ExitCommand}"/>
                    </UniformGrid>
                </Grid>

                <!-- 손잡이(항상 보이는 영역) -->
                <Border Grid.Column="1"
                        Background="{StaticResource Brush.Surface2}"
                        BorderBrush="{StaticResource Brush.Border}"
                        BorderThickness="1,0,0,0">

                    <Grid>
                        <TextBlock Text="MENU"
                                   Foreground="{StaticResource Brush.Text2}"
                                   FontWeight="SemiBold"
                                   RenderTransformOrigin="0.5,0.5"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center">
                            <TextBlock.RenderTransform>
                                <RotateTransform Angle="-90"/>
                            </TextBlock.RenderTransform>
                        </TextBlock>
                    </Grid>
                </Border>

            </Grid>
        </Border>

        <!-- 나머지 화면(지금은 비워둠) -->
        <Grid Background="{StaticResource Brush.Bg}"/>
    </Grid>
</UserControl>
